<th:block th:fragment="taskListFrag(tasks)">
  <div id="parent_post" th:if="${parent != null}" hx-swap-oob="true">
    <div th:replace="~{fragments/postContainer :: postContainer(${parent})}"></div>
  </div>
  <ul id="task_list" hx-swap-oob="true">
    <div th:each="item : ${tasks}">
      <div th:if="${item.parent == parent_id}" class="post">
        <div th:replace="~{fragments/postContainer :: postContainer(${item})}"></div>
      </div>
    </div>
  </ul>
</th:block>
